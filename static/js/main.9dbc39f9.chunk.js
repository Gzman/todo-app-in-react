(this["webpackJsonptodo-app-react"]=this["webpackJsonptodo-app-react"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,r){},,,,,function(e,t,r){},function(e,t,r){},,,,,,,,,,,,,,,,function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},,,,,,,,,,function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var n=r(2),s=r.n(n),c=r(27),a=r.n(c),i=r(16),o=r(4),l=r(1),d=Object(n.createContext)(),u=function(){return Object(n.useContext)(d)},j=function(){return{vw:window.innerWidth,vh:window.innerHeight}},f=function(e){var t=e.children,r=Object(n.useState)(j()),s=Object(o.a)(r,2),c=s[0],a=s[1],i=function(){return a(j())};return Object(n.useEffect)((function(){return window.addEventListener("resize",i),function(){return window.removeEventListener("resize",i)}}),[]),Object(l.jsx)(d.Provider,{value:c,children:t})},m=r(28),b=(r(20),function(){return Object(l.jsxs)("div",{className:"header-logo",children:[Object(l.jsx)(m.a,{className:"logo-icon"}),Object(l.jsx)("h1",{className:"logo",children:"Todo App"})]})}),p=function(e){var t=e.filterTasksByText,r=e.filterAllTasks,n=e.filterCriticalTasks,s=e.filterCompletedTasks,c=e.filterExpiredTasks;return Object(l.jsxs)("div",{className:"global-filter",children:[Object(l.jsx)("input",{className:"global-filter-text",type:"text",placeholder:"Search Tasks",onChange:function(e){return t(e.target.value)}}),Object(l.jsxs)("div",{className:"global-filter-actions",children:[Object(l.jsx)("button",{className:"global-filter-complete-btn",onClick:s,children:"Complete"}),Object(l.jsx)("button",{className:"global-filter-critical-btn",onClick:n,children:"Critical"}),Object(l.jsx)("button",{className:"global-filter-expired-btn",onClick:c,children:"Expired"}),Object(l.jsx)("button",{className:"global-filter-all-btn",onClick:r,children:"All"})]})]})},k=function(e){var t=e.filterTasksByText,r=e.filterAllTasks,n=e.filterCriticalTasks,s=e.filterCompletedTasks,c=e.filterExpiredTasks;return Object(l.jsxs)("div",{className:"header",children:[Object(l.jsx)(b,{}),Object(l.jsx)(p,{filterTasksByText:t,filterAllTasks:r,filterCriticalTasks:n,filterCompletedTasks:s,filterExpiredTasks:c})]})},O=(r(37),function(e){var t=e.name,r=e.taskCount,s=e.active,c=e.isCompleted,a=e.setAsSelected,i=e.editProject,d=Object(n.useState)(!1),u=Object(o.a)(d,2),j=u[0],f=u[1];return Object(l.jsxs)("div",{className:"project-item ".concat(s&&"active"," ").concat(c&&"completed"),onClick:a,children:[j?Object(l.jsx)("input",{className:"project-item-name-input",type:"text",onKeyPress:function(e){return("Enter"===e.key||"Escape"===e.key)&&f(!1)},onBlur:function(){return f(!1)},value:t,onChange:function(e){return e.target.value&&i(e.target.value)}}):Object(l.jsx)("p",{className:"project-item-name",onDoubleClick:function(){return f(!0)},children:t}),null!==r&&r>0&&Object(l.jsx)("p",{className:"project-item-task-counter",children:r})]})}),h=(r(15),function(e){var t=e.selectedProjectId,r=e.selectProject,n=e.timeTaskFilter,s=n.filterTasksToday,c=n.filterTasksThisWeek,a=n.filterTasksThisMonth;return Object(l.jsxs)("div",{className:"project-filter",children:[Object(l.jsx)(O,{name:"Inbox",active:"inbox"===t,setAsSelected:function(){return r("inbox")}}),Object(l.jsx)("button",{className:"project-filter-today",onClick:s,children:"Today"}),Object(l.jsx)("button",{className:"project-filter-week",onClick:c,children:"Week"}),Object(l.jsx)("button",{className:"project-filter-month",onClick:a,children:"Month"})]})}),v=r(22),x=(r(38),function(e){var t=e.classes,r=e.title,s=e.children,c=e.initialyColapsed,a=void 0!==c&&c,i=e.close,d=Object(n.useState)(a),u=Object(o.a)(d,2),j=u[0],f=u[1],m=Object(n.useRef)(!0);return Object(n.useEffect)((function(){var e;e=function(){return f(!1)},m.current?m.current=!1:e()}),[i]),Object(l.jsxs)("div",{className:"".concat(t," colapse-wrapper"),children:[Object(l.jsxs)("div",{className:"colapse-wrapper-header",onClick:function(){return f((function(e){return!e}))},children:[Object(l.jsx)("h4",{className:"colapse-wrapper-title",children:r}),j?Object(l.jsx)(v.b,{className:"colapse-wrapper-icon"}):Object(l.jsx)(v.a,{className:"colapse-wrapper-icon"})]}),j&&Object(l.jsx)("div",{className:"colapse-wrapper-body",children:s})]})}),T=function(e){var t=e.projects,r=e.selectedProjectId,n=e.selectProject,s=function(e){return e.filter((function(e){return"inbox"!==e.id&&e.tasks.length>0&&e.tasks.every((function(e){return e.isComplete}))}))}(t);return 0===(null===s||void 0===s?void 0:s.length)?null:Object(l.jsx)(x,{classes:"complete-project-list",title:"Completed",children:null===s||void 0===s?void 0:s.map((function(e){return Object(l.jsx)(O,{name:e.name,setAsSelected:function(){return n(e.id)},active:e.id===r,taskCount:e.tasks.length},e.id)}))})},C=(r(39),function(e){var t=e.title,r=e.children,n=e.render,s=e.close;if(!n)return null;var c=function(e){e.target===e.currentTarget&&s()};return Object(l.jsx)("div",{className:"backdrop",onClick:c,children:Object(l.jsxs)("div",{className:"modal",children:[Object(l.jsxs)("div",{className:"modal-header",children:[Object(l.jsx)("h3",{children:t}),Object(l.jsx)("h3",{className:"modal-close",onClick:c,children:"X"})]}),Object(l.jsx)("div",{className:"modal-body",children:r})]})})}),y=function(e){var t=Object(n.useState)({nameNotSet:""}),r=Object(o.a)(t,2),s=r[0],c=r[1],a=Object(n.useRef)(!0);Object(n.useEffect)((function(){var e;e=i,a.current?a.current=!1:e()}),[e]);var i=function(){var t="";return""===e&&(t="A name must be entered"),c({nameNotSet:t}),""===t};return{errors:s,validate:i}},N=(r(40),function(e){var t=e.handleInSubmit,r=e.handleInCancel,s=Object(n.useState)(""),c=Object(o.a)(s,2),a=c[0],i=c[1],d=y(a),u=d.errors,j=d.validate;return Object(l.jsxs)("form",{id:"project-form",children:[Object(l.jsxs)("div",{className:"project-form-input",children:[Object(l.jsx)("label",{htmlFor:"project-form-name",children:"Name"}),u.nameNotSet&&Object(l.jsx)("p",{className:"error",children:u.nameNotSet}),Object(l.jsx)("input",{type:"text",id:"project-form-name",maxLength:"50",value:a,onChange:function(e){return i(e.target.value)}})]}),Object(l.jsxs)("div",{className:"project-form-actions",children:[Object(l.jsx)("button",{type:"submit",className:"project-form-ok-btn ok-btn",onClick:function(e){e.preventDefault(),j()&&t&&t(a)},children:"Add"}),Object(l.jsx)("button",{className:"project-form-cancel-btn",onClick:function(e){e.preventDefault(),r&&r()},children:"Cancel"})]})]})}),g=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),r=t[0],s=t[1];return{shouldRenderModal:r,renderModal:function(){s(!0)},closeModal:function(){s(!1)},toggleRenderModal:function(){s((function(e){return!e}))}}},P=function(e){return e.tasks.length>0&&e.tasks.every((function(e){return e.isComplete}))},D=function(e){var t=e.projects,r=e.selectedProjectId,n=e.selectProject,s=e.addProject,c=e.editProject,a=e.closeProjectMenu,i=g(),o=i.shouldRenderModal,d=i.renderModal,u=i.closeModal;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(x,{classes:"project-list",title:"Projects",initialyColapsed:!0,children:[null===t||void 0===t?void 0:t.map((function(e){return"inbox"!==e.id&&Object(l.jsx)(O,{name:e.name,setAsSelected:function(){return n(e.id)},active:e.id===r,isCompleted:P(e),taskCount:e.tasks.length,editProject:function(t){return c(e.id,t)}},e.id)})),Object(l.jsx)("button",{className:"project-add-btn",onClick:d,children:"Add Project"})]}),Object(l.jsx)(C,{title:"New Project",render:o,close:u,children:Object(l.jsx)(N,{handleInSubmit:function(e){s(e),u(),a()},handleInCancel:u})})]})},w=function(e){var t=e.projects,r=e.selectedProjectId,n=e.selectProject,s=e.addProject,c=e.editProject,a=e.timeTaskFilter,i=e.hideProjectMenu,o=e.closeProjectMenu,d=u(),j=Object(l.jsxs)("div",{className:"sidebar",children:[Object(l.jsx)(h,{selectedProjectId:r,selectProject:n,timeTaskFilter:a}),Object(l.jsx)(T,{projects:t,selectedProjectId:r,selectProject:n}),Object(l.jsx)(D,{projects:t,selectedProjectId:r,selectProject:n,addProject:s,editProject:c,closeProjectMenu:o})]});return d.vw>770?j:Object(l.jsx)(x,{classes:"project-menu-btn",title:"Projects",close:i,children:j})},A=r(9),M=function(e){var t={"...":e.sortAfterInsertion,Name:e.sortAfterName,Date:e.sortAfterDate,Priority:e.sortAfterPriority,Completed:e.sortAfterCompleted};return Object(l.jsx)("select",{className:"task-sort-select",onChange:function(e){var r;return null===(r=t[e.target.value])||void 0===r?void 0:r.call(t)},children:Object.keys(t).map((function(e){return Object(l.jsx)("option",{children:e},e)}))})},I=(r(41),function(e){var t=e.itemName,r=e.remove,n=e.shouldRenderModal,s=e.closeModal;return Object(l.jsx)(C,{title:"Remove ".concat(t,"?"),render:n,close:s,children:Object(l.jsxs)("div",{className:"remove-modal",children:[Object(l.jsx)("button",{className:"remove-modal-ok-btn",onClick:r,children:"Ok"}),Object(l.jsx)("button",{className:"remove-modal-cancel-btn",onClick:s,children:"Cancel"})]})})}),S=(r(21),function(e){var t=e.projectName,r=e.renderNewTask,n=e.removeProject,s=e.sortTasksAfterInsertion,c=e.sortTasksAfterName,a=e.sortTasksAfterDate,i=e.sortTasksAfterPriority,o=e.sortTasksAfterComplete,d=g(),u=d.shouldRenderModal,j=d.renderModal,f=d.closeModal;return Object(l.jsxs)("div",{className:"project-controlls",children:[Object(l.jsx)("button",{className:"new-task-btn",onClick:r,children:"New Task"}),Object(l.jsx)("button",{className:"remove-project-btn",onClick:j,children:"Remove Project"}),Object(l.jsx)(M,{sortAfterInsertion:s,sortAfterName:c,sortAfterDate:a,sortAfterPriority:i,sortAfterCompleted:o}),Object(l.jsx)(I,{itemName:t,remove:n,shouldRenderModal:u,closeModal:f})]})}),E=["Low","Medium","High"],L=function(e){return E.indexOf(e)},F=r(59),R=(r(42),function(e){var t=e.handleInSubmit,r=e.handleInCancel,s=e.taskToEdit,c=Object(n.useState)(s?s.name:""),a=Object(o.a)(c,2),i=a[0],d=a[1],u=Object(n.useState)(s?s.description:""),j=Object(o.a)(u,2),f=j[0],m=j[1],b=Object(n.useState)((null===s||void 0===s?void 0:s.dueDate)?Object(F.a)(s.dueDate,"yyyy-MM-dd"):""),p=Object(o.a)(b,2),k=p[0],O=p[1],h=Object(n.useState)(s?s.priority:"Low"),v=Object(o.a)(h,2),x=v[0],T=v[1],C=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=Object(n.useState)({nameNotSet:"",dateSetInPast:""}),c=Object(o.a)(s,2),a=c[0],i=c[1],l=Object(n.useRef)(!0),d=function(e){l.current?l.current=!1:e()};Object(n.useEffect)((function(){d(u)}),[e,t]);var u=function(){var n="",s="";if(""===e&&(n="Name must be entered"),r&&""!==t){var c=new Date;c.setHours(0),new Date(t)<c&&(s="Due date can't be set in the past")}return i({nameNotSet:n,dateSetInPast:s}),!n&&!s};return{errors:a,validate:u}}(i,k,!s),y=C.errors,N=C.validate;return Object(l.jsxs)("form",{id:"task-form",children:[Object(l.jsxs)("div",{className:"task-form-input",children:[Object(l.jsx)("label",{htmlFor:"task-form-name",children:"Name"}),y.nameNotSet&&Object(l.jsx)("p",{className:"error",children:y.nameNotSet}),Object(l.jsx)("input",{type:"text",id:"task-form-name",maxLength:"50",value:i,onChange:function(e){return d(e.target.value)}})]}),Object(l.jsxs)("div",{className:"task-form-input",children:[Object(l.jsx)("label",{htmlFor:"task-form-description",children:"Description"}),Object(l.jsx)("textarea",{type:"text",id:"task-form-description",maxLength:"180",rows:"4",value:f,onChange:function(e){return m(e.target.value)}})]}),Object(l.jsxs)("div",{className:"task-form-input",children:[Object(l.jsx)("label",{htmlFor:"task-form-date",children:"Due date"}),y.dateSetInPast&&Object(l.jsx)("p",{className:"error",children:y.dateSetInPast}),Object(l.jsx)("input",{type:"date",id:"task-form-date",value:k,onChange:function(e){return O(e.target.value)}})]}),Object(l.jsxs)("div",{className:"task-form-input",children:[Object(l.jsx)("label",{htmlFor:"task-form-priority",children:"Priority"}),Object(l.jsx)("select",{id:"task-form-priority",onChange:function(e){return T(e.target.value)},value:x,children:E.map((function(e,t){return Object(l.jsx)("option",{children:e},t)}))})]}),Object(l.jsxs)("div",{className:"task-form-actions",children:[Object(l.jsx)("button",{type:"submit",className:"task-form-ok-btn ok-btn",onClick:function(e){e.preventDefault(),N()&&t&&t(i,f,""!==k?new Date(k):null,x)},children:s?"Save":"Create"}),Object(l.jsx)("button",{className:"task-form-cancel-btn",onClick:function(e){e.preventDefault(),r&&r()},children:"Cancel"})]})]})}),B=(r(43),function(e){var t=e.handleInSubmit,r=e.handleInCancel,s=e.currentProjectId,c=e.projects,a=Object(n.useState)(s),i=Object(o.a)(a,2),d=i[0],u=i[1];return Object(l.jsxs)("form",{id:"move-task-form",children:[Object(l.jsxs)("div",{className:"task-form-input",children:[Object(l.jsx)("label",{htmlFor:"task-form-project-select",children:"Move to"}),Object(l.jsx)("select",{id:"task-form-project-select",value:d,onChange:function(e){return u(e.target.value)},children:null===c||void 0===c?void 0:c.map((function(e){return Object(l.jsx)("option",{value:e.id,children:e.name},e.id)}))})]}),Object(l.jsxs)("div",{className:"task-form-actions",children:[Object(l.jsx)("button",{type:"submit",className:"task-form-ok-btn ok-btn",onClick:function(e){e.preventDefault(),d&&t(d)},children:"Move"}),Object(l.jsx)("button",{className:"task-form-cancel-btn",onClick:function(){r()},children:"Cancel"})]})]})}),W=r(23),H=r(29),J=(r(44),function(e){var t=e.name,r=e.description,s=e.dueDate,c=e.priority,a=e.isComplete,i=e.editTask,d=e.removeTask,j=e.moveTask,f=e.projectId,m=e.projectList,b=Object(n.useState)(!1),p=Object(o.a)(b,2),k=p[0],O=p[1],h=u(),v=g(),x=v.shouldRenderModal,T=v.renderModal,y=v.closeModal,N=g(),P=N.shouldRenderModal,D=N.renderModal,w=N.closeModal,A=g(),M=A.shouldRenderModal,S=A.renderModal,E=A.closeModal,L=Object(l.jsxs)("div",{className:"task-item-actions",children:[Object(l.jsx)(W.b,{className:"task-item-edit-btn",onClick:T}),Object(l.jsx)(W.a,{className:"task-item-remove-btn",onClick:D}),Object(l.jsx)(H.a,{className:"task-item-move-btn",onClick:S})]});return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"task-item ".concat(c," ").concat(a&&"completed"),children:[Object(l.jsxs)("div",{className:"task-item-normal-view",children:[Object(l.jsx)("input",{type:"checkbox",className:"task-item-complete",checked:a,onChange:function(e){return i(t,r,s,c,e.target.checked)}}),Object(l.jsx)("p",{className:"task-item-name",onClick:function(){return O((function(e){return!e}))},children:t}),Object(l.jsx)("p",{className:"task-item-date",children:s?Object(F.a)(s,"dd.MM.yyyy"):""}),h.vw<=511?k&&L:L]}),k&&r.length>0&&Object(l.jsx)("div",{className:"task-item-detail-view",children:Object(l.jsx)("p",{className:"task-item-description",children:r})})]}),Object(l.jsx)(C,{title:"Edit Task",render:x,close:y,children:Object(l.jsx)(R,{handleInSubmit:function(){i.apply(void 0,arguments),y()},handleInCancel:y,taskToEdit:{name:t,description:r,dueDate:s,priority:c}})}),Object(l.jsx)(I,{itemName:t,remove:d,shouldRenderModal:P,closeModal:w}),Object(l.jsx)(C,{title:"Move ".concat(t),render:M,close:E,children:Object(l.jsx)(B,{handleInSubmit:function(e){j(e),E()},handleInCancel:E,projects:m,currentProjectId:f})})]})}),z=function(e){var t=e.project,r=e.projects,n=e.editTask,s=e.removeTask,c=e.moveTask;return Object(l.jsx)(l.Fragment,{children:null===t||void 0===t?void 0:t.tasks.map((function(e){return Object(l.jsx)(J,{name:e.name,description:e.description,dueDate:e.dueDate,priority:e.priority,isComplete:e.isComplete,editTask:function(){for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return n.apply(void 0,[t.id,e.id].concat(s,[e.isComplete]))},removeTask:function(){return s(t.id,e.id)},moveTask:function(r){return c(t.id,r,e.id)},projectId:t.id,projectList:r.map((function(e){return{id:e.id,name:e.name}}))},e.id)}))})},G=function(e){var t=e.project,r=e.projects,s=e.moveTask,c=e.removeProject,a=e.addTask,i=e.editTask,o=e.removeTask,d=e.taskSorting,u=d.sortTasksAfterInsertion,j=d.sortTasksAfterName,f=d.sortTasksAfterDate,m=d.sortTasksAfterPriority,b=d.sortTasksAfterComplete,p=g(),k=p.shouldRenderModal,O=p.renderModal,h=p.closeModal;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]),t?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"project-view",children:[Object(l.jsxs)("div",{className:"project-view-header",children:[Object(l.jsx)("h2",{className:"project-view-title",children:t.name}),Object(l.jsx)(S,{projectName:t.name,renderNewTask:O,removeProject:function(){return c(t.id)},sortTasksAfterInsertion:function(){return u(t.id)},sortTasksAfterName:function(){return j(t.id)},sortTasksAfterDate:function(){return f(t.id)},sortTasksAfterPriority:function(){return m(t.id)},sortTasksAfterComplete:function(){return b(t.id)}})]}),Object(l.jsx)("div",{className:"project-view-body",children:Object(l.jsx)(z,{project:t,editTask:i,removeTask:o,projects:r,moveTask:s})})]}),Object(l.jsx)(C,{title:"New Task",render:k,close:h,children:Object(l.jsx)(R,{handleInSubmit:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];a.apply(void 0,[t.id].concat(r)),h()},handleInCancel:h})})]}):null},Y=r(5),_=r(60),q=r(58),K=r(8),U=r.n(K),V=function(e,t){return null===e||void 0===e?void 0:e.reduce((function(e,r){var n=r.tasks.filter(t);return(null===n||void 0===n?void 0:n.length)&&e.push(Object(Y.a)(Object(Y.a)({},r),{},{filterId:U()(),tasks:n})),e}),[])},X=Object(o.a)(E,3)[2],Q={filterTasksByText:function(e,t){var r=t.toLowerCase();return V(e,(function(e){var t=e.dueDate;return e.name.toLowerCase().includes(r)||e.dueDate&&Object(F.a)(t,"dd.MM.yyyy").includes(r)||e.priority.toLowerCase()===r}))},filterCriticalTasks:function(e){return V(e,(function(e){return e.priority===X}))},filterAllTasks:function(e){return V(e,(function(e){return e}))},filterCompletedTasks:function(e){return V(e,(function(e){return e.isComplete}))},filterExpiredTasks:function(e){return V(e,(function(e){var t=new Date;return t.setHours(0),e.dueDate&&!e.isComplete&&e.dueDate<t}))},filterTasksToday:function(e){return V(e,(function(e){var t=new Date;return e.dueDate&&e.dueDate.getFullYear()===t.getFullYear()&&e.dueDate.getMonth()===t.getMonth()&&e.dueDate.getDate()===t.getDate()}))},filterTasksThisWeek:function(e){return V(e,(function(e){return e.dueDate&&Object(_.a)(e.dueDate)===Object(_.a)(new Date)}))},filterTasksThisMonth:function(e){return V(e,(function(e){return e.dueDate&&Object(q.a)(e.dueDate)===Object(q.a)(new Date)}))}},Z=function(e){var t,r=e.filter,n=e.projects,s=e.selectProject,c=e.editTask,a=e.removeTask,i=e.moveTask;return Object(l.jsxs)("div",{className:"filter-view",children:[Object(l.jsx)("div",{className:"filter-view-header",children:Object(l.jsx)("h2",{className:"filter-view-title",children:r.title})}),Object(l.jsx)("div",{className:"filter-view-body",children:null===(t=Q[r.key])||void 0===t?void 0:t.call(Q,n,r.arg).map((function(e){return e.tasks.length>0&&Object(l.jsxs)("div",{className:"filter-item",children:[Object(l.jsx)(O,{name:e.name,setAsSelected:function(){return s(e.id)}},e.filterId),Object(l.jsx)(z,{project:e,projects:n,editTask:c,removeTask:a,moveTask:i},"".concat(e.id).concat(e.filterId))]},"".concat(e.filterId).concat(e.id))}))})]})},$=function(e){var t=e.projects,r=e.selectedProjectId,n=e.selectProject,s=e.removeProject,c=e.addTask,a=e.editTask,i=e.removeTask,o=e.moveTask,d=e.taskSorting,u=e.filter;return Object(l.jsx)("div",{className:"content",children:Object(l.jsxs)(A.c,{children:[Object(l.jsx)(A.a,{exact:!0,path:"/",component:function(){return Object(l.jsx)(G,{project:t.find((function(e){return e.id===r})),removeProject:s,addTask:c,editTask:a,removeTask:i,moveTask:o,taskSorting:d,projects:t})}}),Object(l.jsx)(A.a,{exact:!0,path:"/filtered_results",component:function(){return Object(l.jsx)(Z,{filter:u,projects:t,selectProject:n,editTask:a,removeTask:i,moveTask:o})}})]})})},ee=r(12),te=function(e,t){var r=Object(n.useRef)(!0);Object(n.useEffect)((function(){var n;n=function(){return localStorage.setItem(e,JSON.stringify(t))},r.current?r.current=!1:n()}),[e,t]);return{load:function(){try{return JSON.parse(localStorage.getItem(e))}catch(t){return console.log(t),null}}}},re=function(e){var t=Math.floor(Math.random()*e),r=new Date;return r.setTime(Date.now()+864e5*t),r},ne=[{id:"inbox",name:"Inbox",tasks:[{id:U()(),name:"Example Task",description:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. ",dueDate:new Date,priority:"Low",isComplete:!0}]}],se=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),r=t[0],s=t[1],c=te("projects",r).load,a=Object(n.useState)("inbox"),i=Object(o.a)(a,2),l=i[0],d=i[1];Object(n.useEffect)((function(){var e,t=(null===(e=c())||void 0===e||e.forEach((function(e){return e.tasks.forEach((function(e){e.dueDate=e.dueDate?new Date(e.dueDate):null}))})),e);s(t||[].concat(ne,Object(ee.a)([{id:U()(),name:"Unsorted stuff",tasks:[{id:U()(),name:"Groecery shopping",description:"Milk, apples, bananas, bread",dueDate:re(3),priority:"Low",isComplete:!0},{id:U()(),name:"Help moving",description:"Help a friend moving to munich",dueDate:re(30),priority:"High",isComplete:!1},{id:U()(),name:"Vacation",description:"Fly to the philippines",dueDate:re(60),priority:"High",isComplete:!1}]},{id:U()(),name:"Homework",tasks:[{id:U()(),name:"Weight training",description:"10 reps, with 40kg, three times",dueDate:re(15),priority:"Low",isComplete:!0},{id:U()(),name:"Cutting tree branches",description:"Old dry and dead branches needs to be cut",dueDate:re(10),priority:"Medium",isComplete:!0},{id:U()(),name:"Clean the car",description:"Wash and vacuum clean the car",dueDate:re(11),priority:"Low",isComplete:!0},{id:U()(),name:"Garage cleaning",description:"",dueDate:re(30),priority:"Low",isComplete:!1}]},{id:U()(),name:"Web development",tasks:[{id:U()(),name:"Learn Mongo DB",description:"",dueDate:re(44),priority:"Low",isComplete:!1},{id:U()(),name:"Learn a server; next.js or express.js",description:"",dueDate:re(33),priority:"Low",isComplete:!1},{id:U()(),name:"Build the shopping-cart project",description:"",dueDate:re(19),priority:"Medium",isComplete:!1},{id:U()(),name:"Finish the todo-app project in react",description:"",dueDate:re(30),priority:"Low",isComplete:!0},{id:U()(),name:"Learn Design Patterns",description:"",dueDate:new Date("2021-03-11"),priority:"High",isComplete:!1}]},{id:U()(),name:"Empty",tasks:[]}])))}),[]);return{projects:r,currentProjectId:l,setCurrentProjectId:d,addProject:function(e){s((function(t){var r=U()();return d(r),function(e,t,r){return[].concat(Object(ee.a)(e),[{id:t,name:r,tasks:[]}])}(t,r,e)}))},editProject:function(e,t){e!==ne.id&&s((function(r){return function(e,t,r){return e.map((function(e){return e.id===t?Object(Y.a)(Object(Y.a)({},e),{},{name:r}):e}))}(r,e,t)}))},removeProject:function(e){e!==ne.id&&s((function(t){return function(e,t){return e.filter((function(e){return e.id!==t}))}(t,e)}))},addTask:function(e,t,r,n,c){s((function(s){return function(e,t,r,n,s,c){return e.map((function(e){return e.id===t?Object(Y.a)(Object(Y.a)({},e),{},{tasks:[].concat(Object(ee.a)(e.tasks),[{id:U()(),name:r,description:n,dueDate:s,priority:c,isComplete:!1,timestamp:Date.now()}])}):e}))}(s,e,t,r,n,c)}))},editTask:function(e,t,r,n,c,a,i){s((function(s){return function(e,t,r,n,s,c,a,i){return e.map((function(e){return e.id===t?Object(Y.a)(Object(Y.a)({},e),{},{tasks:e.tasks.map((function(e){return e.id===r?Object(Y.a)(Object(Y.a)({},e),{},{name:n,description:s,dueDate:c,priority:a,isComplete:i}):e}))}):e}))}(s,e,t,r,n,c,a,i)}))},removeTask:function(e,t){s((function(r){return function(e,t,r){return e.map((function(e){return e.id===t?Object(Y.a)(Object(Y.a)({},e),{},{tasks:e.tasks.filter((function(e){return e.id!==r}))}):e}))}(r,e,t)}))},moveTask:function(e,t,r){s((function(n){return function(e,t,r,n){var s=Object(Y.a)({},e.find((function(e){return e.id===t})).tasks.find((function(e){return e.id===n})));return e.map((function(e){return e.id===t?Object(Y.a)(Object(Y.a)({},e),{},{tasks:e.tasks.filter((function(e){return e.id!==n}))}):e})).map((function(e){return e.id===r?Object(Y.a)(Object(Y.a)({},e),{},{tasks:[].concat(Object(ee.a)(e.tasks),[Object(Y.a)({},s)])}):e}))}(n,e,t,r)}))},sortTasksAfterInsertion:function(e){s((function(t){return function(e,t){return null===e||void 0===e?void 0:e.map((function(e){return e.id===t?Object(Y.a)(Object(Y.a)({},e),{},{tasks:Object(ee.a)(e.tasks).sort((function(e,t){return e.timestamp-t.timestamp}))}):e}))}(t,e)}))},sortTasksAfterName:function(e){s((function(t){return function(e,t){return null===e||void 0===e?void 0:e.map((function(e){return e.id===t?Object(Y.a)(Object(Y.a)({},e),{},{tasks:Object(ee.a)(e.tasks).sort((function(e,t){return e.name.localeCompare(t.name)}))}):e}))}(t,e)}))},sortTasksAfterDate:function(e){s((function(t){return function(e,t){return null===e||void 0===e?void 0:e.map((function(e){return e.id===t?Object(Y.a)(Object(Y.a)({},e),{},{tasks:Object(ee.a)(e.tasks).sort((function(e,t){return e.dueDate?t.dueDate?e.dueDate-t.dueDate:-1:1}))}):e}))}(t,e)}))},sortTasksAfterPriority:function(e){s((function(t){return function(e,t){return null===e||void 0===e?void 0:e.map((function(e){return e.id===t?Object(Y.a)(Object(Y.a)({},e),{},{tasks:Object(ee.a)(e.tasks).sort((function(e,t){return L(t.priority)-L(e.priority)}))}):e}))}(t,e)}))},sortTasksAfterComplete:function(e){s((function(t){return function(e,t){return null===e||void 0===e?void 0:e.map((function(e){return e.id===t?Object(Y.a)(Object(Y.a)({},e),{},{tasks:Object(ee.a)(e.tasks).sort((function(e,t){return e.isComplete?-1:t.isComplete?1:void 0}))}):e}))}(t,e)}))}}};r(54);var ce=function(){var e=se(),t=e.projects,r=e.addProject,s=e.editProject,c=e.removeProject,a=e.addTask,i=e.editTask,d=e.removeTask,u=e.moveTask,j=e.sortTasksAfterInsertion,f=e.sortTasksAfterName,m=e.sortTasksAfterDate,b=e.sortTasksAfterPriority,p=e.sortTasksAfterComplete,O=e.currentProjectId,h=e.setCurrentProjectId,v=function(){var e=Object(A.f)();return Object(n.useEffect)((function(){e.replace("/")}),[e]),{navigateTo:function(t,r){e.replace(t),r&&r()}}}().navigateTo,x=Object(n.useState)(!0),T=Object(o.a)(x,2),C=T[0],y=T[1],N=function(){return y((function(e){return!e}))},g=function(e){v("/",(function(){h(e),N()}))},P=function(e){var t=Object(n.useState)({title:"",key:"",arg:null}),r=Object(o.a)(t,2),s=r[0],c=r[1];return{filter:s,filterTasksByText:function(t){c({title:"Search ".concat(t),key:"filterTasksByText",arg:t}),e()},filterAllTasks:function(){c({title:"All Tasks",key:"filterAllTasks"}),e()},filterCriticalTasks:function(){c({title:"Critical Tasks",key:"filterCriticalTasks"}),e()},filterCompletedTasks:function(){c({title:"Completed Tasks",key:"filterCompletedTasks"}),e()},filterExpiredTasks:function(){c({title:"Expired Tasks",key:"filterExpiredTasks"}),e()},filterTasksToday:function(){c({title:"Tasks Today",key:"filterTasksToday"}),e()},filterTasksThisWeek:function(){c({title:"Tasks this Week",key:"filterTasksThisWeek"}),e()},filterTasksThisMonth:function(){c({title:"Tasks this Month",key:"filterTasksThisMonth"}),e()}}}((function(){v("/filtered_results",(function(){h(""),N()}))})),D=P.filter,M=P.filterTasksByText,I=P.filterAllTasks,S=P.filterCriticalTasks,E=P.filterCompletedTasks,L=P.filterExpiredTasks,F=P.filterTasksToday,R=P.filterTasksThisWeek,B=P.filterTasksThisMonth;return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(k,{filterTasksByText:M,filterAllTasks:I,filterCriticalTasks:S,filterCompletedTasks:E,filterExpiredTasks:L}),Object(l.jsxs)("main",{children:[Object(l.jsx)(w,{projects:t,selectedProjectId:O,selectProject:g,addProject:r,editProject:s,timeTaskFilter:{filterTasksToday:F,filterTasksThisWeek:R,filterTasksThisMonth:B},hideProjectMenu:C,closeProjectMenu:N}),Object(l.jsx)($,{projects:t,selectedProjectId:O,selectProject:g,removeProject:c,addTask:a,editTask:i,removeTask:d,moveTask:u,taskSorting:{sortTasksAfterInsertion:j,sortTasksAfterName:f,sortTasksAfterDate:m,sortTasksAfterPriority:b,sortTasksAfterComplete:p},filter:D})]})]})};r(55),r(56);a.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(i.a,{children:Object(l.jsx)(f,{children:Object(l.jsx)(ce,{})})})}),document.getElementById("root"))}],[[57,1,2]]]);
//# sourceMappingURL=main.9dbc39f9.chunk.js.map